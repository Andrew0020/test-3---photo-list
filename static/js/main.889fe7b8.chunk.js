(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(7),i=n.n(s),o=(n(13),n(14),n(0));var j=function(){return Object(o.jsx)("div",{className:"header",children:"Test app"})},l=n(2),r=n(8),u=n(6),d=n.n(u),b=n.p+"static/media/loading_spinner.4165b216.gif",m=(n(16),function(e){var t=e.visible,n=void 0!==t&&t,s=e.onClose,i=e.imageId,j=Object(c.useState)(null),u=Object(l.a)(j,2),m=u[0],O=u[1],h=Object(c.useState)(!0),f=Object(l.a)(h,2),x=f[0],g=f[1],p=Object(c.useState)([]),v=Object(l.a)(p,2),N=v[0],S=v[1],C=Object(c.useState)(!1),k=Object(l.a)(C,2),y=k[0],B=k[1],F=Object(c.useState)(!1),T=Object(l.a)(F,2),w=T[0],D=T[1],I=Object(c.useState)(""),E=Object(l.a)(I,2),J=E[0],L=E[1],P=Object(c.useState)(""),M=Object(l.a)(P,2),A=M[0],_=M[1];if(Object(c.useEffect)((function(){return i&&fetch("https://boiling-refuge-66454.herokuapp.com/images/".concat(i)).then((function(e){return e.json()})).then((function(e){O(e.url),S(e.comments),g(!1)})),function(){O(null),S([]),g(!0)}}),[i]),!n)return null;return Object(o.jsxs)(a.a.Fragment,{children:[Object(o.jsx)("div",{className:"substrate",onClick:s}),Object(o.jsxs)("div",{className:"modal",children:[Object(o.jsxs)("div",{className:"photo",children:[Object(o.jsx)("img",{className:"img",src:m,alt:""}),x&&Object(o.jsx)("img",{className:"loadingModal",src:b,alt:"loading"})]}),Object(o.jsx)("div",{className:"comments",children:N.length>0?N.map((function(e){return Object(o.jsxs)("div",{className:"comment",children:[Object(o.jsx)("div",{className:"date",children:e.date&&new Date(e.date).toLocaleDateString()}),Object(o.jsx)("div",{children:e.text})]},e.id)})):Object(o.jsxs)("div",{className:"comment",children:[Object(o.jsx)("div",{className:"date",children:"xx.xx.xx"}),Object(o.jsx)("div",{children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})]})}),Object(o.jsxs)("div",{className:"add-comment",children:[Object(o.jsx)("input",{id:"name",className:d()({input:!0,"input-error":y}),placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",onChange:function(e){B(!1),L(e.target.value)},value:J}),Object(o.jsx)("input",{id:"comment",className:d()({input:!0,"input-error":w}),placeholder:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",onChange:function(e){D(!1),_(e.target.value)},value:A}),Object(o.jsx)("div",{className:"add-comment-button",onClick:function(){Boolean(J)||B(!0),Boolean(A)||D(!0),Boolean(J)&&Boolean(A)&&fetch("https://boiling-refuge-66454.herokuapp.com/images/".concat(i,"/comments"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({name:J,comment:A})}).then((function(e){console.log(e.status+": "+e.statusText),204===e.status&&(S((function(e){return[].concat(Object(r.a)(e),[{id:Date.now(),text:A,date:Date.now()}])})),L(""),_(""))}))},children:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})]}),Object(o.jsx)("div",{className:"close",onClick:s})]})]})}),O=(n(17),function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(!0),j=Object(l.a)(i,2),r=j[0],u=j[1],d=Object(c.useState)(!1),O=Object(l.a)(d,2),h=O[0],f=O[1],x=Object(c.useState)(null),g=Object(l.a)(x,2),p=g[0],v=g[1];Object(c.useEffect)((function(){fetch("https://boiling-refuge-66454.herokuapp.com/images").then((function(e){return e.json()})).then((function(e){s(e),u(!1)}))}),[]);var N=function(e){var t=e.target.getAttribute("id");v(t),f(!0)};return Object(o.jsxs)(a.a.Fragment,{children:[Object(o.jsxs)("div",{className:"content",children:[n.map((function(e){return Object(o.jsx)("div",{className:"item",onClick:N,children:Object(o.jsx)("img",{id:e.id,src:e.url,alt:""})},e.id)})),r&&Object(o.jsx)("div",{className:"loading",children:Object(o.jsx)("img",{src:b,alt:"loading"})})]}),Object(o.jsx)(m,{visible:h,onClose:function(){return f(!1)},imageId:p})]})});n(18);var h=function(){return Object(o.jsx)("div",{className:"footer",children:"\xa9 2018-2019"})};n(19);var f=function(){return Object(o.jsxs)("div",{className:"app",children:[Object(o.jsx)(j,{}),Object(o.jsx)("div",{className:"app-content",children:Object(o.jsx)(O,{})}),Object(o.jsx)(h,{})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(f,{})}),document.getElementById("root")),x()}],[[20,1,2]]]);
//# sourceMappingURL=main.889fe7b8.chunk.js.map